#include <stdio.h>
#include <stdlib.h>

typedef struct AVL{
     int valeur ;
     struct AVL * fg ;
     struct AVL * fd ;
     int equilbre ;
} AVL 

AVL* creeAVL(int e){
     AVL* nouveau = malloc(sizeof(AVL));
     if (nouveau == NULL){
        exit(1);
     }
     nouveau->valeur = e ;
     nouveau->fg = NULL ;
     nouveau->fd = NULL ;
     nouveau->equilibre = 0 ;
     return nouveau ;
}

AVL* rotationDroite(AVL* a){
    AVL* b = a->fg;
    a->fg = b->fd;
    b->fd = a;
return b ; 
}

AVL* rotationGauche(AVL* a){
    AVL* b = a->fd;
    a->fd = b->fg;
    b->fg = a;
return b ;
}

AVL* rotationDoubleGauche(AVL* a){
    a->fd = rotationDroite(a->fd);
    return rotationGauche(a);
}

AVL* rotationDoubleDroite(AVL* a){
    a->fg = rotationGauche(a->fg);
    return rotationDroite(a);
}

AVL* insereAVL(AVL* a, int e, int *h){
    if (a == NULL){
        *h = 1;
        return creeAVL(e);
    }

    if (e < a->valeur){
        a->fg = insereAVL(a->fg, e, h);
        *h = -(*h);
    }
    else if (e > a->valeur){
        a->fd = insereAVL(a->fd, e, h);
    }
    else {
        *h = 0;
        return a; // doublon
    }

    a->equilibre += *h;

    
    if (a->equilibre != 0){
       a->equilibre += *h;
    }
    if (a->equilibre == 0){
        *h = 0;
        return a;
    }

AVL* suppMinAVL(AVL* a, int *h, int *pe){
    AVL* temp;
    if(a->fg == NULL){                   
        *pe = a->value; 
        *h = -1;        
        temp = a;
        a = a->fd;
        free(temp);
        return a;
    }
    else{
        a->fg = suppMinAVL(a->fg, h, pe);
        *h = -*h;
    }
    if(*h != 0){
        a->eq += *h;
        a = equilibrerAVL(a);
        *h = (a->eq == 0) ? -1 : 0;
    }
    return a;
}

AVL* suppressionAVL(AVL* a, int e, int *h)
{
    AVL* temp;
    if (a == NULL){ 
        *h = 0;
        return a;
    }
    if(e > a->value){ 
          a->fd = suppressionAVL(a->fd, e, h);
    }
    else if (e < a->value){
        a->fg = suppressionAVL(a->fg, e, h);
        *h = -*h;
    }
    else if (a->fd != NULL){ 
        a->fd = suppMinAVL(a->fd, h, &(a->value));
    }
    else{ 
        temp = a;
        a = a->fg;
        free(temp);
        *h = -1;
        return a;
    }
    if (a==NULL){
        return a;
    }
    if (*h != 0){
        a->eq += *h;
        a = equilibrerAVL(a);
        *h = (a->eq == 0) ? -1 : 0;
    }
    return a;
}



Faire inserer et supprimer AVL et equilibre  :




